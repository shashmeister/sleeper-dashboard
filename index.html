<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sleeper Dynasty Dashboard</title>
    <link rel="stylesheet" href="style.css">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    
    <!-- Basic SEO / Social Media Meta Tags -->
    <meta name="description" content="A custom dashboard for your Sleeper fantasy football league, showing live draft updates, team rosters, and more.">
    <meta name="keywords" content="fantasy football, Sleeper, API, league, draft, dashboard, NFL">
    <meta name="author" content="Your Name or League Name">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://sleeper-dashboard-psi.vercel.app/"> <!-- Customize with your Vercel URL -->
    <meta property="og:title" content="My Sleeper League Dashboard"> <!-- Customize this -->
    <meta property="og:description" content="Follow our Sleeper fantasy football league live with this custom dashboard!">
    <meta property="og:image" content="https://via.placeholder.com/1200x630.png?text=Sleeper+Dashboard"> <!-- Replace with your own image URL -->

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://sleeper-dashboard-psi.vercel.app/"> <!-- Customize with your Vercel URL -->
    <meta property="twitter:title" content="My Sleeper League Dashboard"> <!-- Customize this -->
    <meta property="twitter:description" content="Follow our Sleeper fantasy football league live with this custom dashboard!">
    <meta property="twitter:image" content="https://via.placeholder.com/1200x630.png?text=Sleeper+Dashboard"> <!-- Replace with your own image URL -->
</head>
<body>
    <header>
        <h1>
            <img id="league-avatar" src="" alt="League Avatar" class="league-avatar">
            <span id="league-name"></span>
        </h1>
        <button id="dark-mode-toggle">Toggle Dark Mode</button>
    </header>
    <nav class="site-nav">
        <button class="nav-tab active" data-tab="dashboard-page">Dashboard</button>
        <button class="nav-tab" data-tab="matchups-page">Matchups</button>
        <button class="nav-tab" data-tab="standings-page">Standings</button>
        <button class="nav-tab" data-tab="teams-page">Teams</button>
        <button class="nav-tab" data-tab="transactions-page">Transactions</button>
        <button class="nav-tab" data-tab="player-search-page">Players</button>
        <button class="nav-tab" data-tab="history-page">Draft History</button>
    </nav>
    <main>
        <div id="dashboard-page" class="page-content">
            <section id="standings-preview-section">
                <h2>Current Standings</h2>
                <div id="dashboard-standings">
                    <!-- Top standings will be loaded here -->
                    <p>Loading standings...</p>
                </div>
                <div class="view-more-link">
                    <button class="nav-link-btn" data-tab="standings-page">View Full Standings →</button>
                </div>
            </section>

            <section id="recent-transactions-section">
                <h2>Recent League Activity</h2>
                <div id="dashboard-transactions">
                    <!-- Recent transactions will be loaded here -->
                    <p>Loading recent transactions...</p>
                </div>
                <div class="view-more-link">
                    <button class="nav-link-btn" data-tab="transactions-page">View All Transactions →</button>
                </div>
            </section>

            <section id="league-stats-section">
                <h2>League Overview</h2>
                <div id="dashboard-stats" class="stats-grid">
                    <!-- League stats will be loaded here -->
                    <div class="stat-card">
                        <h4>Total Transactions</h4>
                        <p id="total-transactions">-</p>
                    </div>
                    <div class="stat-card">
                        <h4>Highest Scorer</h4>
                        <p id="highest-scorer">-</p>
                    </div>
                    <div class="stat-card">
                        <h4>Most Active Trader</h4>
                        <p id="most-active-trader">-</p>
                    </div>
                    <div class="stat-card">
                        <h4>Avg Points/Week</h4>
                        <p id="avg-points-week">-</p>
                    </div>
                </div>
            </section>
        </div>

        <div id="history-page" class="page-content" style="display: none;">
            <section id="draft-progress-section">
                <h2>2025 Startup Draft</h2>
                <div class="progress-bar-container">
                    <div class="progress-bar-fill" id="draft-progress-fill"></div>
                </div>
                <p id="draft-progress-text">0% complete (0/0 picks)</p>
            </section>

            <section id="recent-picks-section">
                <h2>Final Draft Picks</h2>
                <ul id="recent-picks-list">
                    <!-- Recent picks will be loaded here by JavaScript -->
                    <li>Loading recent picks...</li>
                </ul>
            </section>

            <div class="draft-display-controls">
                <button id="view-by-team-btn">View by Team</button>
                <button id="view-by-round-btn">View by Round</button>
            </div>

            <section id="drafted-by-team-section">
                <h2>Draft Results (By Team)</h2>
                <div id="teams-container">
                    <!-- Teams will be loaded here by JavaScript -->
                    <p>Loading teams...</p>
                </div>
            </section>

            <section id="drafted-by-round-section" style="display:none;">
                <h2>Draft Results (By Round)</h2>
                <div id="players-by-round-container">
                    <!-- Players by round will be loaded here by JavaScript -->
                    <p>Loading players by round...</p>
                </div>
            </section>

            <section id="draft-info-section">
                <h2>Draft Details</h2>
                <p>Draft Status: <span id="draft-status">Loading...</span></p>
                <p>Draft Type: <span id="draft-type">Loading...</span></p>
                <p>Draft Order:</p>
                <ol id="draft-order-list">
                    <!-- Draft order will be loaded here by JavaScript -->
                    <li>Loading draft order...</li>
                </ol>
            </section>
        </div>

        <div id="teams-page" class="page-content" style="display: none;">
            <section id="teams-overview-section">
                <h2>League Teams</h2>
                <div id="teams-overview-container">
                    <!-- Team overview cards will be loaded here by JavaScript -->
                    <p>Loading teams...</p>
                </div>
            </section>
            
            <section id="individual-team-section" style="display: none;">
                <div id="team-detail-header">
                    <button id="back-to-teams-btn">← Back to Teams</button>
                    <h2 id="team-detail-title">Team Details</h2>
                </div>
                <div id="team-detail-content">
                    <!-- Individual team details will be loaded here by JavaScript -->
                    <p>Loading team details...</p>
                </div>
            </section>
        </div>

        <div id="standings-page" class="page-content" style="display: none;">
            <section id="standings-section">
                <h2>League Standings</h2>
                <div id="standings-container">
                    <!-- Standings table will be loaded here by JavaScript -->
                    <p>Loading standings...</p>
                </div>
            </section>
            
            <section id="playoff-picture-section">
                <h2>Playoff Picture</h2>
                <div id="playoff-picture-container">
                    <!-- Playoff information will be loaded here by JavaScript -->
                    <p>Loading playoff information...</p>
                </div>
            </section>
        </div>

        <div id="transactions-page" class="page-content" style="display: none;">
            <section id="transactions-section">
                <h2>League Transactions</h2>
                <div class="transactions-filters">
                    <label>
                        <input type="checkbox" id="filter-trades" checked> Trades
                    </label>
                    <label>
                        <input type="checkbox" id="filter-waivers" checked> Waivers
                    </label>
                    <label>
                        <input type="checkbox" id="filter-free-agents" checked> Free Agents
                    </label>
                    <label>
                        <input type="checkbox" id="filter-drops" checked> Drops
                    </label>
                    <select id="week-filter">
                        <option value="all">All Weeks</option>
                    </select>
                </div>
                <div id="transactions-container">
                    <!-- Transactions will be loaded here by JavaScript -->
                    <p>Loading transactions...</p>
                </div>
            </section>
        </div>

        <div id="matchups-page" class="page-content" style="display: none;">
            <section id="current-week-section">
                <h2>Current Week Matchups</h2>
                <div class="week-selector">
                    <button id="prev-week-btn">← Previous Week</button>
                    <span id="current-week-display">Week 1</span>
                    <button id="next-week-btn">Next Week →</button>
                </div>
                <div id="current-matchups-container">
                    <!-- Current week matchups will be loaded here -->
                    <p>Loading matchups...</p>
                </div>
            </section>

            <section id="schedule-grid-section">
                <h2>Full Season Schedule</h2>
                <div class="schedule-view-controls">
                    <button id="view-schedule-grid-btn">Grid View</button>
                    <button id="view-schedule-list-btn" class="active">List View</button>
                </div>
                <div id="schedule-container">
                    <!-- Schedule grid/list will be loaded here -->
                    <p>Loading schedule...</p>
                </div>
            </section>

            <section id="playoff-bracket-section" style="display: none;">
                <h2>Playoff Bracket</h2>
                <div id="playoff-bracket-container">
                    <!-- Playoff bracket will be loaded here -->
                    <p>Playoffs start Week 15</p>
                </div>
            </section>
        </div>

        <div id="player-search-page" class="page-content" style="display: none;">
            <section id="player-search-section">
                <h2>Player Ownership Lookup</h2>
                <p class="page-description">Quick tool to find out who owns any NFL player in your league</p>
                
                <div class="search-controls">
                    <div class="search-input-group">
                        <input type="text" id="player-search-input" placeholder="Type a player name (e.g., Jamarr Chase, Josh Allen)..." autocomplete="off">
                        <button id="clear-search-btn">Clear</button>
                        <div id="search-suggestions" class="search-suggestions" style="display: none;">
                            <!-- Autocomplete suggestions will appear here -->
                        </div>
                    </div>
                </div>
                
                <div id="player-search-results">
                    <!-- Player results will be loaded here -->
                    <div class="search-placeholder">
                        <h3>🔍 Who owns that player?</h3>
                        <p>Start typing any NFL player's name above to find out who owns them in your league.</p>
                        <div class="example-searches">
                            <p><strong>Try searching for:</strong></p>
                            <span class="example-name">Jamarr Chase</span>
                            <span class="example-name">Josh Allen</span>
                            <span class="example-name">Christian McCaffrey</span>
                            <span class="example-name">Tyreek Hill</span>
                        </div>
                    </div>
                </div>
            </section>
        </div>


    </main>

    <section id="error-log-section" style="display:none;">
        <h2>Error Log</h2>
        <div id="error-log-container" style="background-color: var(--card-bg); padding: 15px; border-radius: 8px; border: 1px solid var(--section-border); overflow-x: auto;"></div>
        <button id="clear-errors-btn" style="margin-top: 10px;">Clear Errors</button>
    </section>

    <script src="script.js"></script>
</body>
</html>

<!-- Pipeline test - webhooks working -->
